!(import! &self ../../utils/common-utils)
!(import! &self ../../utils/index_to_var)
!(import! &self ../../data/ugly_man_sodadrinker)
!(import! &self ../../utils/sort)
!(import! &self ../../utils/variable-combinations)
!(import! &self ../../utils/surp-utils/blk-abstractness)
!(import! &self ../../utils/surp-utils/partition-metta)
!(import! &self ../../utils/remove_useless_clauses)
!(import! &self ../build-specialization)
!(import! &self ../candidate-patterns)
!(import! &self ../conjunction-expansion)
!(import! &self ../frequent-pattern-miner)
!(migrateAtoms &self &dbspace (Inheritance $x $y))


!(let $result2
    (collapse (frequency-pattern-miner &dbspace &specspace1 &cndpspace1 &aptrnspace1 &conjspace1 5 0 True))
    (assertEqual (subtraction-atom $result2 ((supportOf (, (Inheritance $_4526 $_4532) (Inheritance $_4526 $_4556)) 190)
                                            (supportOf (, (Inheritance $_4448 $_4454) (Inheritance $_4472 $_4454)) 800)
                                            (supportOf (, (Inheritance $_4370 $_4376) (Inheritance $_4370 human)) 60)
                                            (supportOf (, (Inheritance $_4292 $_4298) (Inheritance $_4292 man)) 30)
                                            (supportOf (, (Inheritance $_4214 $_4220) (Inheritance $_4214 woman)) 30)
                                            (supportOf (, (Inheritance $_4136 $_4142) (Inheritance $_4136 ugly)) 35)
                                            (supportOf (, (Inheritance $_4058 $_4064) (Inheritance $_4058 sodaDrinker)) 35)
                                            (supportOf (, (Inheritance $_3980 human) (Inheritance $_3980 man)) 10)
                                            (supportOf (, (Inheritance $_3902 human) (Inheritance $_3902 woman)) 10)
                                            (supportOf (, (Inheritance $_3824 human) (Inheritance $_3824 ugly)) 10)
                                            (supportOf (, (Inheritance $_3746 human) (Inheritance $_3746 sodaDrinker)) 10)
                                            (supportOf (, (Inheritance $_3668 man) (Inheritance $_3668 ugly)) 5)
                                            (supportOf (, (Inheritance $_3590 man) (Inheritance $_3590 sodaDrinker)) 5)
                                            (supportOf (, (Inheritance $_3512 woman) (Inheritance $_3512 ugly)) 5)
                                            (supportOf (, (Inheritance $_3434 woman) (Inheritance $_3434 sodaDrinker)) 5)
                                            (supportOf (, (Inheritance $_3356 ugly) (Inheritance $_3356 sodaDrinker)) 5))) ())
)
!(let $result1
    (collapse (frequency-pattern-miner &dbspace &specspace2 &cndpspace2 &aptrnspace2 &conjspace2 5 0 False))
    (assertEqual (subtraction-atom $result1 ((supportOf (Inheritance Z (S Z)) 60)
                                            (supportOf (Inheritance Z human) 20)
                                            (supportOf (Inheritance Z man) 10)
                                            (supportOf (Inheritance Z woman) 10)
                                            (supportOf (Inheritance Z ugly) 10)
                                            (supportOf (Inheritance Z sodaDrinker) 10))) ())

 )
!(let $result3
    (collapse (frequency-pattern-miner &dbspace &specspace3 &cndpspace3 &aptrnspace3 &conjspace3 5 1 True))
    (assertEqual (subtraction-atom $result3 ((supportOf (, (Inheritance $_15012 $_15018) (Inheritance $_15012 $_15042) (Inheritance $_15012 $_15066)) 630)
                                            (supportOf (, (Inheritance $_14910 $_14916) (Inheritance $_14910 human) (Inheritance $_14910 $_14964)) 190)
                                            (supportOf (, (Inheritance $_14808 $_14814) (Inheritance $_14808 $_14838) (Inheritance $_14808 man)) 100)
                                            (supportOf (, (Inheritance $_14706 $_14712) (Inheritance $_14706 $_14736) (Inheritance $_14706 woman)) 90)
                                            (supportOf (, (Inheritance $_14604 $_14610) (Inheritance $_14604 $_14634) (Inheritance $_14604 ugly)) 125)
                                            (supportOf (, (Inheritance $_14502 $_14508) (Inheritance $_14502 $_14532) (Inheritance $_14502 sodaDrinker)) 125)
                                            (supportOf (, (Inheritance $_14400 $_14406) (Inheritance $_14424 $_14406) (Inheritance $_14448 $_14406)) 12000)
                                            (supportOf (, (Inheritance $_14298 $_14304) (Inheritance $_14298 $_14328) (Inheritance $_14298 human)) 190)
                                            (supportOf (, (Inheritance $_14196 $_14202) (Inheritance $_14196 human) (Inheritance $_14196 man)) 30)
                                            (supportOf (, (Inheritance $_14094 $_14100) (Inheritance $_14094 human) (Inheritance $_14094 woman)) 30)
                                            (supportOf (, (Inheritance $_13992 $_13998) (Inheritance $_13992 human) (Inheritance $_13992 ugly)) 35)
                                            (supportOf (, (Inheritance $_13890 $_13896) (Inheritance $_13890 human) (Inheritance $_13890 sodaDrinker)) 35)
                                            (supportOf (, (Inheritance $_13788 $_13794) (Inheritance $_13788 man) (Inheritance $_13788 ugly)) 20)
                                            (supportOf (, (Inheritance $_13686 $_13692) (Inheritance $_13686 man) (Inheritance $_13686 sodaDrinker)) 20)
                                            (supportOf (, (Inheritance $_13584 $_13590) (Inheritance $_13584 woman) (Inheritance $_13584 ugly)) 15)
                                            (supportOf (, (Inheritance $_13482 $_13488) (Inheritance $_13482 woman) (Inheritance $_13482 sodaDrinker)) 15)
                                            (supportOf (, (Inheritance $_13380 $_13386) (Inheritance $_13380 ugly) (Inheritance $_13380 sodaDrinker)) 20)
                                            (supportOf (, (Inheritance $_13278 human) (Inheritance $_13278 man) (Inheritance $_13278 ugly)) 5)
                                            (supportOf (, (Inheritance $_13176 human) (Inheritance $_13176 man) (Inheritance $_13176 sodaDrinker)) 5)
                                            (supportOf (, (Inheritance $_13074 human) (Inheritance $_13074 woman) (Inheritance $_13074 ugly)) 5)
                                            (supportOf (, (Inheritance $_12972 human) (Inheritance $_12972 woman) (Inheritance $_12972 sodaDrinker)) 5)
                                            (supportOf (, (Inheritance $_12870 human) (Inheritance $_12870 ugly) (Inheritance $_12870 sodaDrinker)) 5)
                                            (supportOf (, (Inheritance $_12768 man) (Inheritance $_12768 ugly) (Inheritance $_12768 sodaDrinker)) 5))) ())
)
